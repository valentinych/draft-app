# Top-4 Transfer System Deployment Guide

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. –°–∏—Å—Ç–µ–º–∞ –æ—á–µ—Ä–µ–¥–∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤
- ‚úÖ –û—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ Top-4 (–Ω–∞–∏–º–µ–Ω—å—à–∞—è —Å—É–º–º–∞ –æ—á–∫–æ–≤ –ø–µ—Ä–≤–æ–π)
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `get_transfer_order_from_results()` –≤ `top4_routes.py`
- ‚úÖ Fallback –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### 2. –õ–æ–≥–∏–∫–∞ 3 –∫—Ä—É–≥–æ–≤ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤ (–Ω–µ –∑–º–µ–π–∫–æ–π)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `TRANSFER_SCHEDULES` –≤ `transfer_system.py`
- ‚úÖ Top-4 –∏–º–µ–µ—Ç 3 –∫—Ä—É–≥–∞ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤ –ø–æ—Å–ª–µ GW1
- ‚úÖ –ö–∞–∂–¥—ã–π –∫—Ä—É–≥ –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤ —Ç–æ–º –∂–µ –ø–æ—Ä—è–¥–∫–µ (–Ω–µ –∑–º–µ–π–∫–æ–π)

### 3. Transfer Out —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –î–≤—É—Ö—Ñ–∞–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: Transfer Out ‚Üí Transfer In
- ‚úÖ –ò–≥—Ä–æ–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ transfer out –ø—É–ª
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/top4` —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ JavaScript –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤

### 4. Transfer In —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –í—ã–±–æ—Ä –∏–≥—Ä–æ–∫–æ–≤ –∏–∑ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –ø—É–ª–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –ø–æ –ø–æ–∑–∏—Ü–∏—è–º –∏ –∫–ª—É–±–∞–º
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—É
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤

### 5. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤ –≤ `/transfers/top4/history`
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–µ
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º

### 6. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ `/top4/schedule`
- ‚úÖ –°—Ç–∞—Ç—É—Å —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–Ω–æ–≥–æ –æ–∫–Ω–∞
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞—É–Ω–¥–∞
- ‚úÖ –û—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤

### 7. –°–∏—Å—Ç–µ–º–∞ –±—ç–∫–∞–ø–æ–≤ S3
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–Ω–æ–≥–æ –æ–∫–Ω–∞
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `create_backup()` —Å timestamp
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–µ –∏ S3 –±—ç–∫–∞–ø—ã

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–ø–ª–æ—é
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
git add .
git commit -m "Implement Top-4 transfer system"
git push origin main
```

### 2. –î–µ–ø–ª–æ–π –Ω–∞ Heroku
```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Heroku
git push heroku main

# –ò–ª–∏ —á–µ—Ä–µ–∑ GitHub Actions –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω CI/CD
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://val-draft-app-b4a5eee9bd9a.herokuapp.com/top4
2. –ó–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è –ø–æ–¥ godmode –∞–∫–∫–∞—É–Ω—Ç–æ–º
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥—Ä–∞—Ñ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–Ω–æ–µ –æ–∫–Ω–æ")

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–¥–µ

### 1. –û—Ç–∫—Ä—ã—Ç–∏–µ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–Ω–æ–≥–æ –æ–∫–Ω–∞
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/top4`
2. –ù–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–Ω–æ–µ –æ–∫–Ω–æ" (–≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è godmode)
3. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å—é

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Transfer Out
1. –ó–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è –ø–æ–¥ –ø–µ—Ä–≤—ã–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –≤ –æ—á–µ—Ä–µ–¥–∏
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/top4`
3. –î–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å "TRANSFER OUT"
4. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –ª—é–±–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –∏–∑ —Å–≤–æ–µ–≥–æ —Å–æ—Å—Ç–∞–≤–∞
5. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å transfer out
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –≤ —Ñ–∞–∑—É "TRANSFER IN"

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Transfer In
1. –í —Ñ–∞–∑–µ "TRANSFER IN" –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–≥—Ä–æ–∫–∏
2. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –ª—é–±–æ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å transfer in
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ —Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—É

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/transfers/top4/history`
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä—ã –∑–∞–ø–∏—Å–∞–ª–∏—Å—å
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–µ—Ç–∞–ª–∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/top4/schedule`
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–Ω–æ–≥–æ –æ–∫–Ω–∞
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å —Ä–∞—É–Ω–¥–∞

## üîß Troubleshooting

### –ï—Å–ª–∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–Ω–æ–µ –æ–∫–Ω–æ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `heroku logs --tail`
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥—Ä–∞—Ñ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ `/top4/results`

### –ï—Å–ª–∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JavaScript –∫–æ–Ω—Å–æ–ª—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ª–æ–≥–∏–Ω–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —ç—Ç–æ —Ö–æ–¥ —Ç–µ–∫—É—â–µ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞

### –ï—Å–ª–∏ –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ `/top4/results`
2. –§—É–Ω–∫—Ü–∏—è `get_transfer_order_from_results()` –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—á–∫–∏

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ URL-—ã

- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Top-4**: `/top4`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**: `/top4/results` 
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ**: `/top4/schedule`
- **–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤**: `/transfers/top4/history`
- **–°—Ç–∞—Ç—É—Å –¥—Ä–∞—Ñ—Ç–∞**: `/top4/status`

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤

–í `transfer_system.py`:
```python
"TOP4": {
    1: 3,   # –ü–æ—Å–ª–µ –ø–µ—Ä–≤—ã—Ö —Ç—É—Ä–æ–≤, 3 –∫—Ä—É–≥–∞ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤ (–Ω–µ –∑–º–µ–π–∫–æ–π)
}
```

–õ–∏–º–∏—Ç—ã –ø–æ–∑–∏—Ü–∏–π:
- GK: 2
- DEF: 5  
- MID: 5
- FWD: 3
- –ú–∞–∫—Å–∏–º—É–º 1 –∏–≥—Ä–æ–∫ –∏–∑ –∫–ª—É–±–∞

## üéØ –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

1. **–û—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞**: Godmode ‚Üí –∫–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–Ω–æ–µ –æ–∫–Ω–æ"
2. **–û—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å**: –ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é —Å—É–º–º—ã –æ—á–∫–æ–≤ (—Ö—É–¥—à–∏–π –ø–µ—Ä–≤—ã–π)
3. **–†–∞—É–Ω–¥—ã**: 3 —Ä–∞—É–Ω–¥–∞, –∫–∞–∂–¥—ã–π –≤ —Ç–æ–º –∂–µ –ø–æ—Ä—è–¥–∫–µ
4. **–§–∞–∑—ã**: Transfer Out ‚Üí Transfer In ‚Üí —Å–ª–µ–¥—É—é—â–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä
5. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**: –ü–æ—Å–ª–µ 3 –ø–æ–ª–Ω—ã—Ö —Ä–∞—É–Ω–¥–æ–≤ –æ–∫–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.
