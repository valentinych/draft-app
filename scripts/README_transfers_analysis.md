# Анализ трансферов из AWS S3

## Скрипт: `analyze_transfers_from_s3.py`

Этот скрипт анализирует составы из AWS S3 для определения всех трансферов после GW3 и GW10.

### Использование

```bash
# С указанием bucket
python3 scripts/analyze_transfers_from_s3.py --bucket YOUR_BUCKET_NAME

# С указанием bucket и prefix
python3 scripts/analyze_transfers_from_s3.py --bucket YOUR_BUCKET_NAME --prefix lineups

# Используя переменные окружения
export DRAFT_S3_BUCKET=your-bucket-name
python3 scripts/analyze_transfers_from_s3.py
```

### Как работает

1. Загружает все составы из S3 директории `lineups/`
2. Сравнивает оригинальные ростеры (из `picks`) с составами после GW3
3. Сравнивает составы GW10 с составами GW11
4. Определяет трансферы на основе изменений в составах

### Логика определения трансферов

**Трансферы после GW3:**
- Игроки, которые были в оригинальном драфте, но исчезли из состава после GW3
- Игроки, которые появились в составе после GW3, но не были в оригинальном драфте

**Трансферы после GW10:**
- Игроки, которые были в составе GW10, но исчезли к GW11
- Игроки, которые появились в составе GW11, но не были в GW10

### Требования

- AWS credentials настроены (через `~/.aws/credentials` или переменные окружения)
- Доступ к S3 bucket с составами
- Файл `draft_state_epl.json` в корне проекта (для получения информации об игроках)

### Пример вывода

```
ТРАНСФЕРЫ ПОСЛЕ GW3:
--------------------------------------------------------------------------------

Андрей:
  Sandro Tonali (MID, ID: 491) → Dango Ouattara (MID, ID: 83)
  Evann Guessand (MID, ID: 677) → Harvey Elliott (MID, ID: 389)

...

ИТОГО: GW3 - 10 трансферов, GW10 - 8 трансферов
```

